# web_lab

9.21 jy上传craft.py
可以实现输入指定名字后的豆瓣搜索，并将搜索得到的页面信息解析并输出。

问题在于，只有相当简略的信息，不能具体点开一个链接查看电影的具体信息

9.25 jy更新craft.py 更新README.md
可以进入搜索结果中的网页，查询详细的信息（名称，演员，导演，编剧，语言，地区，类型，评分，简介等），需要将结果写入表格或文档，需要处理“查看更多”的问题
通过随机生成IP，手动添加报头来解决反爬虫机制

9.25 jy修改网页获取方式，读取表格获取电影ID并访问页面获取数据，添加访问随机延时0-5s来避免反爬虫机制，书籍的信息搜集还需要另外写

9.25 jy添加了书籍信息查询的功能。但是由于书籍页面结构不同，不一定能跑所有的书籍

10.1 wyz更新craft.py

可以将爬取内容写入excel？

10.2 cth jieba分词停用词函数 调用示例test.py

10.7 jy整合了目前进度，添加作者简介查找功能，修复若干bug，规范变量声明。实现将信息全部输出到表格，部分作者无法查找，部分书籍查找失败，一律选择忽视

10.10 jy手动补充了电影和书籍的数据，保存为book_data和movie_data。后续可以直接使用这两个文件获取数据。空白的为获取不了的数据。

10.13 cth提取电影和书的关键词，进行去重去停用词去停用词处理 ，保存为book.xlsx和movie copy.xlsx

10.16 jy添加tag信息,在电影关键词中添加类型信息

删去关键词中多余的空格，即关键词之间只用逗号链接，如'钱钟书,乡村'

删去电影类型信息中多余的链接(不知道哪来的)

整理文件，保留的表格只剩下原始id的表格(Book_id,Movie_id)，整合好关键词和其他信息的表格(movie,book)

添加读写表格用的python文件 add_info,有注释，需要读写表格可以直接修改它来使用

添加生成倒排表并写入excel表格的python文件inverted_index_to_excel，倒排表存储进movie_list.xlsx,book_list.xlsx

10.17 jy添加python文件keyword_search，实现bool检索，对检索结果(id)输出相关信息，检索模式(书籍/电影)可以手动输入也可以指定，检索语句可以手动输入或指定，检索语句优先级从高到低依次是括号，NOT AND OR，经过了一定的测试，但是也不保熟

修改倒排表的数据类型为set集合，方便取NOT AND OR

10.29 jy仿照倒排表bool检索movie的方式实现倒排表bool检索book

新增文件inverted_index_zip，用于压缩movie倒排表索引，将压缩后的结果存放至block文件夹中。压缩方式采用分块存储，5个关键词为一个块。压缩后的文件为block_metadata.plk。

并实现利用压缩后的倒排索引表检索的功能，并与顺序检索的用时进行比较(顺序检索排除掉读取excel表格的时间的话，耗时其实更少。但是由于读取25000个关键词占用大量内存，用时很长)。为了方便，后续可能仍旧采用顺序索引的倒排表进行检索

10.29 cth增加snownlp分词算法，输出对比结果bool_com.xlsx, compare.md

10.30 jy整理文件夹，修改了代码中的文件路径，完成了检索的测试，填写了相关的报告。

11.11 cth填写了相关报告

11.20 wyz实现关联实体寻找功能，但还未实现筛选功能

11.22 jy在v0.py中添加实体计数功能，筛选出现频率高于10的实体，优化函数，性能提高至少一倍

12.10 wyz优化代码，更新进度条，完整跑一遍代码以及填写实验报告

12.18 cth完成基于图谱嵌入的模型,训练模型

12.20 cth对比不同图谱嵌入方法结果，完成实验报告
